# Дизайн и архитектура

## Модули
- `apidefender-core`: раннер, нагрузка, таймаут, HTTP, токены, телеметрия.
- `apidefender-contract`: загрузка спеки, строгая валидация, дифф поведение↔контракт, поиск неописанных путей.
- `apidefender-scanners`: SPI и плагины (bola, idor, injection, auth, excess-data, +cors/headers/ratelimit/mass-assignment/errors).
- `apidefender-report`: модель находок, генерация JSON/HTML/PDF, OWASP Risk Rating.
- `apidefender-logging`: JSONL логирование, маскирование, сохранение raw запросов/ответов.
- `apidefender-cli`: picocli, парсинг флагов, пресеты, прогресс, локализация (RU).
- `docker`: Dockerfile и entrypoint.

## Поток выполнения
1. Загрузка конфигурации, токена, спеки.
2. Оценка целей (эндпоинты/методы) и тайм-бюджета.
3. Контрактные проверки (строгая валидация).
4. Параллельный запуск плагинов проверок по эндпоинтам.
5. Сбор результатов, построение отчётов, сохранение трейс-артефактов.

## Нефункциональные цели
- ≤5 минут, параллелизм с ограничением.
- Стабильность: тайм-ауты, повтор при сетевых сбоях, аккуратный backoff.
- Журналирование: подробный JSONL + raw артефакты.
